'use strict';var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},yafps=function(a,b){function c(){B=!0}function d(){B=!1}function e(a){if(!a.hasAttribute(v))return{r:y++-1,c:z++-1};var b=a.getAttribute(v).split('-');return{r:+b[0],c:+b[1]}}function f(a){var b=A;return'left'===a?-1<b.x-1&&k(D[b.y][b.x-1]):'right'===a?b.x+1<z&&k(D[b.y][b.x+1]):'up'===a?-1<b.y-1&&k(D[b.y-1][b.x]):'down'==a&&b.y+1<y&&k(D[b.y+1][b.x])}function g(){w.style.left=h(A.x),w.style.top=h(A.y)}function h(a){return-100*a+'%'}function k(a){return!a.classList.contains(u)}function l(a){if(!B)return!1;switch(a.which){case 37:return q('left');case 38:return q('up');case 39:return q('right');case 40:return q('down');}return!1}function n(a){r=function(b){'undefined'==typeof b?console.error('intent',b):(d(),a(b))}}function o(a){s=a}function p(a,b){var d={x:A.x,y:A.y};return!!f(a)&&(('left'===a?A.x-=1:'right'===a?A.x+=1:'up'===a?A.y-=1:'down'===a?A.y+=1:void 0,s&&s(),b)?(r({target:w,fromPercent:{left:h(d.x),top:h(d.y)},toPercent:{left:h(A.x),top:h(A.y)},from:{left:d.x,top:d.y},to:{left:A.x,top:A.y},callback:function(a,b){c(),'function'==typeof a&&a(b)}}),!0):(g(),!0))}function q(a){return p(a,!0)}if(a){b||(b={}),b=_extends({},{},b);var r,s,t='page',u='page-disabled',v='data-order',w=a.querySelector('.pages-container'),x=Array.from(w.querySelectorAll('.'+t)),y=0,z=0,A={x:0,y:0},B=!0;x.forEach(function(a){var b=Math.max,c=e(a);y=b(c.r,y),z=b(c.c,z)});for(var C,D=[],E=0;E<y;E++)C=Array(z),D.push(C.fill(!1));x.forEach(function(a){var b=e(a);D[b.r-1][b.c-1]=a});for(var m=0;m<D.length;m++)for(var i=0;i<D[m].length;i++){if(!D[m][i]){var j=document.createElement('div');j.classList.add(t,u),D[m][i]=j,w.appendChild(j)}D[m][i].style.order=1+m*z+i,D[m][i].setAttribute(v,m+'-'+i),D[m][i].style.flexBasis=100/z+'%',D[m][i].style.width=100/z+'%',D[m][i].style.height=100/y+'%'}return w.style.width=100*z+'%',w.style.height=100*y+'%',document.addEventListener('keydown',l),{off:function(){},setAnimationFunction:n,setBeforeMoveFunction:o,move:p,animate:q}}};'undefined'!=typeof module&&'undefined'!=typeof module.exports?module.exports=yafps:'function'==typeof define&&define.amd?define([],function(){return yafps}):window.yaps=yafps;